(this["webpackJsonpapp-sqleditor"]=this["webpackJsonpapp-sqleditor"]||[]).push([[0],{106:function(e,t,r){},107:function(e,t,r){},108:function(e,t,r){},118:function(e,t,r){},119:function(e,t,r){},228:function(e,t,r){},232:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),a=r(25),c=r.n(a),i=(r(106),r(107),r(18)),o=r(11),l=(r(108),r.p+"static/media/db.c05bec76.png"),u=r(2),d=function(){return Object(u.jsx)("div",{className:"Home",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"Home__col col-12 col-md-4",children:[Object(u.jsxs)("h1",{children:["Welcome to the management system SQL",Object(u.jsx)("b",{className:"font-yellow",children:"Editor"})]}),Object(u.jsx)(i.b,{className:"btn btn-primary",to:"/editor",children:"Get Started"})]}),Object(u.jsx)("div",{className:"Home__col d-none d-md-block col-md-8",children:Object(u.jsx)("img",{src:l,alt:"Superman",className:"img-fluid p-4",style:{width:"50%"}})})]})})})},j=r(7),b=r.n(j),m=r(14),h=(r(118),r.p+"static/media/db2.92aad1ad.png"),p=r(6),x=r(8),O="https://apisqleditornodejs.herokuapp.com/api/",f=new function e(){Object(p.a)(this,e),this.get=function(){var e=Object(m.a)(b.a.mark((function e(t){var r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O+t);case 3:return r=e.sent,e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),console.log("http get method err",e.t0),Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),this.post=function(){var e=Object(m.a)(b.a.mark((function e(t,r){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O+t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(r),redirect:"follow",referrer:"no-referrer"});case 3:return n=e.sent,e.next=6,n.json();case 6:return s=e.sent,e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(0),console.log("http post method err",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),this.postRemote=function(){var e=Object(m.a)(b.a.mark((function e(t,r){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(r),redirect:"follow",referrer:"no-referrer"});case 3:return n=e.sent,e.next=6,n.json();case 6:return s=e.sent,e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(0),console.log("http post method err",e.t0),Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()},v=function(){function e(){Object(p.a)(this,e),this.login=function(){var e=Object(m.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.post("login",{username:t,password:r});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.isLogin=function(){return!!localStorage.getItem("auth_user")}}return Object(x.a)(e,[{key:"logout",value:function(){localStorage.removeItem("auth_user")}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("auth_user"))}}]),e}(),g=new v,N=g.getCurrentUser(),y=function(){var e=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.logout(),window.location.reload();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsx)("nav",{className:"navbar navbar-expand-lg Navbar",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsxs)(i.b,{className:"navbar-brand",to:"/",children:[Object(u.jsx)("img",{className:"Navbar__brand-logo",src:h,alt:"Logo"}),Object(u.jsx)("span",{className:"Navbar__font-white",children:"SQL"}),Object(u.jsx)("span",{className:"Navbar__font-yellow",children:"Editor"})]}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(u.jsx)("ul",{className:"navbar-nav",children:Object(u.jsx)("li",{className:"nav-item",children:N&&Object(u.jsx)(u.Fragment,{children:Object.keys(N).length>0&&Object(u.jsx)(i.b,{className:"nav-link",to:"/editor",children:Object(u.jsx)("span",{className:"Navbar__font_li",children:"Editor"})})})})})}),Object(u.jsx)("div",{className:"col-1",children:N&&Object(u.jsx)(u.Fragment,{children:Object.keys(N).length>0&&Object(u.jsx)("button",{type:"button",className:"btn btn-warning",onClick:e,children:"Logout"})})})]})})})},w=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)(y,{}),e.children]})},k=(r(119),r.p+"static/media/db-not.416b0faf.png"),S=function(){return Object(u.jsx)("div",{className:"Error",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"Error__col col-12 col-md-4",children:[Object(u.jsx)("h1",{children:"404"}),Object(u.jsx)("p",{className:"text-36 subheading mb-3",children:"that's an error!"}),Object(u.jsx)("p",{className:"mb-5  text-muted text-18",children:"Sorry! The page you were looking for doesn't exist."}),Object(u.jsx)(i.b,{className:"btn btn-primary",to:"/",children:"Go back to home"})]}),Object(u.jsx)("div",{className:"Error__col d-none d-md-block col-md-8",children:Object(u.jsx)("img",{src:k,alt:"Superman",className:"img-fluid p-4",style:{width:"50%"}})})]})})})},_=r(49),C=r(50),B=r(26),E=r.n(B),q=(r(228),C.a().shape({username:C.b().required("es requerido"),password:C.b().required("es requerido")})),L=function(e){var t=function(){var t=Object(m.a)(b.a.mark((function t(r){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.login(r.username,r.password);case 2:1===(n=t.sent).status?(localStorage.setItem("auth_user",JSON.stringify(n.user)),e.history.push("/"),E.a.fire({icon:"success",title:"Welcome",confirmButtonColor:"#249B83",text:n.msg}).then((function(e){window.location.reload()}))):0===n.status&&E.a.fire({icon:"error",title:"Oops...",confirmButtonColor:"#249B83",text:n.msg});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"Signin",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"Signin__col col-12 col-md-6",children:Object(u.jsxs)("div",{className:"Badge",children:[Object(u.jsx)("div",{className:"Badge__header",children:Object(u.jsx)("h3",{children:"Login"})}),Object(u.jsx)("div",{className:"Badge__section-name",children:Object(u.jsx)("div",{className:"mb-3",children:Object(u.jsx)(_.a,{initialValues:{username:"",password:""},validationSchema:q,onSubmit:t,children:function(e){var t=e.values,r=e.errors,n=e.touched,s=e.handleChange,a=e.handleBlur,c=e.handleSubmit,i=e.isSubmitting;return Object(u.jsxs)("form",{onSubmit:c,children:[Object(u.jsx)("label",{children:"Username"}),Object(u.jsx)("input",{type:"text",name:"username",className:"form-control",onChange:s,onBlur:a,value:t.username}),Object(u.jsx)("div",{className:"text-danger",children:r.username&&n.username&&r.username}),Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{type:"password",name:"password",className:"form-control",onChange:s,onBlur:a,value:t.password}),Object(u.jsx)("div",{className:"text-danger",children:r.password&&n.password&&r.password}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{type:"submit",disabled:i,className:"btn btn-primary",children:"Sign In"})]})}})})})]})}),Object(u.jsx)("div",{className:"Signin__col d-none d-md-block col-md-6",children:Object(u.jsx)("img",{src:l,alt:"Superman",className:"img-fluid p-4",style:{width:"70%"}})})]})})})},T=r(3),F=r(5),I=["component"],J=function(e){var t=e.component,r=Object(F.a)(e,I);return Object(u.jsx)(o.b,Object(T.a)(Object(T.a)({},r),{},{render:function(e){return g.isLogin()?Object(u.jsx)(t,Object(T.a)({},e)):Object(u.jsx)(o.a,{to:"/session/signin"})}}))},P=["component","restricted"],U=function(e){var t=e.component,r=e.restricted,n=Object(F.a)(e,P);return Object(u.jsx)(o.b,Object(T.a)(Object(T.a)({},n),{},{render:function(e){return g.isLogin()&&r?Object(u.jsx)(o.a,{to:"/"}):Object(u.jsx)(t,Object(T.a)({},e))}}))},H=r(21),W=r(100),Q=r(236),R=r(235),M=r(96),V=r.n(M),z=r(97),A=r.n(z),G=r(66),K=function(e){return Object(u.jsx)("div",{className:"overflow-auto",style:{height:"400px"},children:e.logs.length>0?Object(u.jsx)("ol",{className:"list-group list-group-numbered",children:e.logs.map((function(e,t){return Object(u.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-start",children:[Object(u.jsxs)("div",{className:"ms-2 me-auto",children:[Object(u.jsx)("div",{className:"fw-bold",children:e.date}),e.message]}),0===e.status?Object(u.jsx)("span",{className:"badge bg-success rounded-pill",children:Object(u.jsx)(G.a,{})}):Object(u.jsx)("span",{className:"badge bg-danger rounded-pill",children:Object(u.jsx)(G.b,{})})]},t)}))}):Object(u.jsx)("p",{className:"text-muted",children:"Not outputs"})})},D=r(234),X=function(e){return e.table?Object(u.jsx)("div",{style:{height:"400px"},children:Object.keys(e.table).length>0?Object(u.jsx)(Q.a,{elevation:6,className:"overflow-auto",style:{width:"370px",height:"400px"},children:Object(u.jsxs)(D.a,{style:{minWidth:100},children:[Object(u.jsx)("thead",{children:Object(u.jsx)("tr",{children:e.table.columns.map((function(e,t){return Object(u.jsx)("th",{className:"pl-sm-24",children:e},t)}))})}),Object(u.jsx)("tbody",{children:e.table.data.length>0?Object(u.jsx)(u.Fragment,{children:e.table.data.map((function(t,r){return Object(u.jsx)("tr",{children:e.table.columns.map((function(e,r){return Object(u.jsx)("td",{className:"pl-sm-24 capitalize",align:"left",children:t[r]},r)}))},r)}))}):Object(u.jsx)("p",{className:"text-muted",children:"Not results"})})]})}):Object(u.jsx)("p",{className:"text-muted",children:"Not results"})}):null};function Y(e){return Object.entries(e).filter((function(e){return e[1]})).map((function(e){return e[0]})).join(" ")}var Z=function(e){for(var t=[],r=function(r){var n=e.currentStep===r;t.push(Object(u.jsx)("div",{className:Y({"cursor-pointer":!n,"p-2 px-3 pt-0":1!==r,"p-2 px-3 pl-0 pt-0":1===r,"step-active":n}),onClick:function(){return e.goToStep(r)},children:Object(u.jsxs)("h5",{className:Y({"m-0 mb-1 text-14":!0,"text-primary":n}),children:[1===r&&Object(u.jsx)(u.Fragment,{children:"Output"}),2===r&&Object(u.jsx)(u.Fragment,{children:"Results"})]})},r))},n=1;n<=e.totalSteps;n+=1)r(n);return Object(u.jsx)("div",{className:"d-flex flex-wrap form-wizard mb-3",style:{cursor:"pointer"},children:t})},$=function(e){return Object(u.jsx)("div",{className:"container",style:{marginTop:"2%"},children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-12",children:Object(u.jsxs)(A.a,{nav:Object(u.jsx)(Z,{}),initialStep:1,isHashEnabled:!0,children:[Object(u.jsx)(K,{hashkey:"first",logs:e.logs}),Object(u.jsx)(X,{hashkey:"second",table:e.table})]})})})})},ee=function(){var e=Object(n.useState)([]),t=Object(H.a)(e,2),r=t[0],s=t[1],a=Object(n.useState)([]),c=Object(H.a)(a,2),i=c[0],o=c[1],l=Object(n.useState)({}),d=Object(H.a)(l,2),j=d[0],h=d[1],p=function(){var e=Object(m.a)(b.a.mark((function e(t){var r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=V()(t),"create"!==(n=r.statement[0]).variant){e.next=7;break}return e.abrupt("return",n.name.name.split(".")[0].trim());case 7:if("insert"!==n.variant){e.next=11;break}return e.abrupt("return",n.into.name.split(".")[0].trim());case 11:if("update"!==n.variant){e.next=15;break}return e.abrupt("return",n.into.name.split(".")[0].trim());case 15:if("delete"!==n.variant){e.next=19;break}return e.abrupt("return",n.from.name.split(".")[0].trim());case 19:if("select"!==n.variant){e.next=27;break}if("join"!==n.from.variant){e.next=24;break}return e.abrupt("return","co");case 24:return e.abrupt("return",n.from.name.split(".")[0].trim());case 25:e.next=29;break;case 27:if("drop"!==n.variant){e.next=29;break}return e.abrupt("return",n.target.name.split(".")[0].trim());case 29:e.next=34;break;case 31:return e.prev=31,e.t0=e.catch(0),e.abrupt("return",e.t0);case 34:case"end":return e.stop()}}),e,null,[[0,31]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(b.a.mark((function e(t){var r,n,s,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t.query);case 2:if("VM"!==(r=(r=e.sent).toUpperCase())){e.next=8;break}n="https://victordbms.herokuapp.com",e.next=25;break;case 8:if("WS"!==r){e.next=12;break}n="https://cc6-dbms.herokuapp.com",e.next=25;break;case 12:if("MP"!==r){e.next=16;break}n="https://dry-forest-09916.herokuapp.com",e.next=25;break;case 16:if("CO"!==r){e.next=20;break}n="https://apisqleditornodejs.herokuapp.com",e.next=25;break;case 20:return E.a.fire({icon:"error",title:"Error!",confirmButtonColor:"#249B83",text:"Server does not exist",timer:2500}),s={status:1,message:"Server does ".concat(r," not exist")},e.next=24,g(s);case 24:return e.abrupt("return");case 25:if(void 0===n){e.next=38;break}return a={query:t.query,origin:"co"},e.next=29,f.postRemote(n+"/parseQuery",a);case 29:return c=e.sent,e.next=32,g(c);case 32:return h(c.table),1===c.status?E.a.fire({icon:"warning",title:"Oops!",text:c.message,confirmButtonColor:"#249B83"}):0===c.status?E.a.fire({icon:"success",title:"Successfully",confirmButtonColor:"#249B83",text:c.message}):E.a.fire({icon:"error",title:"Error!",confirmButtonColor:"#249B83",text:c.message,timer:2500}),e.next=36,O();case 36:return e.next=38,v();case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("logs");case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("databases");case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.post("logs",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){O(),v(),h({})}),[]),Object(u.jsx)("div",{style:{margin:"20px"},children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-3",children:Object(u.jsx)("div",{className:"card overflow-auto",style:{width:"300px",height:"400px"},children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title",children:"Tables"}),i.length>0?Object(u.jsx)(u.Fragment,{children:i.map((function(e,t){return Object(u.jsx)(Q.a,{className:"mb-3 shadow-sm",children:Object(u.jsx)(R.a,{defaultActiveKey:"0",children:Object(u.jsxs)(R.a.Item,{eventKey:t,children:[Object(u.jsx)(R.a.Header,{children:Object(u.jsxs)("p",{className:"text-muted",children:[Object(u.jsx)("span",{className:"badge bg-primary rounded-pill",children:Object(u.jsx)(W.a,{})})," ",e.name]})}),Object(u.jsx)(R.a.Body,{children:e.columns.map((function(e,t){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-10",children:Object(u.jsx)("p",{children:e})})}),Object(u.jsx)("hr",{})]},t)}))})]})})},t)}))}):Object(u.jsx)("p",{className:"text-muted",children:"Not results"})]})})}),Object(u.jsx)("div",{className:"col-5",children:Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title",children:"Editor"}),Object(u.jsx)(_.a,{initialValues:{query:""},onSubmit:x,children:function(e){var t=e.handleChange,r=e.handleBlur,n=e.handleSubmit;return Object(u.jsxs)("form",{onSubmit:n,children:[Object(u.jsx)("textarea",{className:"form-control",name:"query",id:"query",rows:"5",placeholder:"Write your query",onChange:t,onBlur:r}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"EXECUTE QUERY"}),Object(u.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){return document.getElementById("query").value=""},children:"CLEAN CONSOLE"})]})]})}})]})})}),Object(u.jsx)("div",{className:"col-4",children:Object(u.jsx)("div",{className:"card",children:Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)($,{logs:r,table:j})})})})]})})},te=(r(229),function(){return Object(u.jsx)(i.a,{children:Object(u.jsx)(w,{children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(U,{restricted:!0,component:L,path:"/session/signin",exact:!0}),Object(u.jsx)(J,{component:d,path:"/",exact:!0}),Object(u.jsx)(J,{component:ee,path:"/editor",exact:!0}),Object(u.jsx)(o.b,{component:S})]})})})}),re=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,237)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),n(e),s(e),a(e),c(e)}))};r(231);c.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(te,{})}),document.getElementById("root")),re()}},[[232,1,2]]]);
//# sourceMappingURL=main.c7a8cebe.chunk.js.map